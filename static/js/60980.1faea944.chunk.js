"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[60980],{60980:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var s=t(35143),l=t(46053),r=t(85842),a=t(92339);let n=class extends a.A{constructor(){super(...arguments),this.type="group"}};(0,s._)([(0,l.MZ)()],n.prototype,"view",void 0),n=(0,s._)([(0,r.$)("esri.views.3d.layers.GroupLayerView3D")],n);const d=n},91196:(e,i,t)=>{t.d(i,{A:()=>h});var s=t(35143),l=t(91967),r=t(54099),a=t(5632),n=t(76460),d=t(30726),o=t(91291),y=t(46053),u=(t(81806),t(47249),t(85842)),p=t(19451),v=t(90992);let h=class extends(a.A.IdentifiableMixin(o.A.EsriPromiseMixin(r.A.EventedMixin(l.A)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p.U,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){var i;const t=this.layer&&this.layer.id||"no id",s=(null===(i=this.layer)||void 0===i?void 0:i.title)||"no title";n.A.getLogger(this).error("#resolve()","Failed to resolve layer view (layer title: '".concat(s,"', id: '").concat(t,"')"),e)}})}destroy(){this._updatingHandles=(0,d.pR)(this._updatingHandles)}get fullOpacity(){var e,i,t,s;return(null!==(e=null===(i=this.layer)||void 0===i?void 0:i.opacity)&&void 0!==e?e:1)*(null!==(t=null===(s=this.parent)||void 0===s?void 0:s.fullOpacity)&&void 0!==t?t:1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}get updating(){var e;return!((null===(e=this._updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){var e;const i=this.view.timeExtent,t=null===(e=this.layer)||void 0===e?void 0:e.visibilityTimeExtent;return!i||!t||!i.intersection(t).isEmpty}canResume(){var e,i;const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&this.parent&&!this.parent.suspended&&(null===(i=this.view)||void 0===i?void 0:i.ready)&&(0,v.g7)(t)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){var e,i;const t=null!==(e=this.parent)&&void 0!==e&&e.suspended?this.parent.suspendInfo:{};null!==(i=this.view)&&void 0!==i&&i.ready||(t.viewNotReady=!0),this.layer&&this.layer.loaded||(t.layerNotLoaded=!0);const s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,v.g7)(s)&&this.visibleAtCurrentScale||(t.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(t.outsideVisibilityTimeExtent=!0),this.visible||(t.layerInvisible=!0),t}isUpdating(){return!1}};(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"spatialReferenceSupported",null),(0,s._)([(0,y.MZ)()],h.prototype,"view",void 0),(0,s._)([(0,y.MZ)()],h.prototype,"fullOpacity",null),(0,s._)([(0,y.MZ)()],h.prototype,"layer",void 0),(0,s._)([(0,y.MZ)()],h.prototype,"parent",void 0),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"suspended",null),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"suspendInfo",null),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"legendEnabled",null),(0,s._)([(0,y.MZ)({type:Boolean,readOnly:!0})],h.prototype,"updating",null),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"updatingProgress",null),(0,s._)([(0,y.MZ)()],h.prototype,"updateSuspended",null),(0,s._)([(0,y.MZ)()],h.prototype,"visible",null),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"visibleAtCurrentScale",null),(0,s._)([(0,y.MZ)({readOnly:!0})],h.prototype,"visibleAtCurrentTimeExtent",null),h=(0,s._)([(0,u.$)("esri.views.layers.LayerView")],h)},92339:(e,i,t)=>{t.d(i,{A:()=>y});var s=t(35143),l=t(19276),r=t(3975),a=t(68134),n=t(46053),d=(t(81806),t(76460),t(47249),t(85842)),o=t(91196);let y=class extends o.A{constructor(e){super(e),this.type="group",this.layerViews=new l.A}destroy(){this.layerViews.length=0}_allLayerViewVisibility(e){this.layerViews.forEach(i=>{i.visible=e})}initialize(){this.addHandles([this.layerViews.on("change",e=>this._layerViewsChangeHandler(e)),(0,a.wB)(()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.visibilityMode},()=>{this.layer&&this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null))},a.OH),(0,a.wB)(()=>this.visible,e=>{this._applyVisibility(()=>this._allLayerViewVisibility(e),()=>{})},a.OH)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}get creatingLayerViews(){var e,i;return null!==(e=null===(i=this.view)||void 0===i||null===(i=i.layerViewManager)||void 0===i?void 0:i.isCreatingLayerViewsForLayer(this.layer))&&void 0!==e&&e}set layerViews(e){this._set("layerViews",(0,r.V)(e,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((e,i)=>e+i.updatingProgress,0)/this.layerViews.length}isUpdating(){return this.creatingLayerViews||this.layerViews.some(e=>e.updating)}_hasLayerViewVisibleOverrides(){return this.layerViews.some(e=>e._isOverridden("visible"))}_findLayerViewForLayer(e){return e&&this.layerViews.find(i=>i.layer===e)}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find(e=>{const i=this._findLayerViewForLayer(e);return!(null===i||void 0===i||!i.visible)});return e&&this._findLayerViewForLayer(e)}_applyExclusiveVisibility(e){null==e&&null==(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach(i=>{i.visible=i===e})}_layerViewsChangeHandler(e){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map(e=>(0,a.wB)(()=>e.visible,i=>this._applyVisibility(()=>{i!==this.visible&&(e.visible=this.visible)},()=>this._applyExclusiveVisibility(i?e:null)),a.OH)).toArray(),"grouplayerview:visible");const i=e.added[e.added.length-1];this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null!==i&&void 0!==i&&i.visible?i:null))}_applyVisibility(e,i){var t,s;this._hasLayerViewVisibleOverrides()&&("inherited"===(null===(t=this.layer)||void 0===t?void 0:t.visibilityMode)?e():"exclusive"===(null===(s=this.layer)||void 0===s?void 0:s.visibilityMode)&&i())}};(0,s._)([(0,n.MZ)({readOnly:!0})],y.prototype,"creatingLayerViews",null),(0,s._)([(0,n.MZ)({cast:r.H})],y.prototype,"layerViews",null),(0,s._)([(0,n.MZ)({readOnly:!0})],y.prototype,"updatingProgress",null),(0,s._)([(0,n.MZ)()],y.prototype,"view",void 0),y=(0,s._)([(0,d.$)("esri.views.layers.GroupLayerView")],y)}}]);
//# sourceMappingURL=60980.1faea944.chunk.js.map